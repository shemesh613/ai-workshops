<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>×”×¡× ×” ×”×‘×•×¢×¨ â€” ×—×“×¨ ×‘×¨×™×—×” ×™×¦×™××ª ××¦×¨×™×</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="theme-burning">

  <!-- Video Background -->
  <video class="video-bg" autoplay muted loop playsinline
    poster="https://images.unsplash.com/photo-1487260211189-670c54da558d?w=1920&q=80">
    <source src="https://cdn.coverr.co/videos/coverr-fire-background-1581/1080p.mp4" type="video/mp4">
  </video>
  <div class="fog-overlay"></div>
  <div class="dark-overlay"></div>

  <!-- Particles Canvas -->
  <canvas id="particles-canvas"></canvas>

  <!-- Timer Bar -->
  <div class="timer-bar">
    <span class="room-indicator">ğŸ”¥ ×©×¢×¨ ×”×›× ×™×¡×” â€” ×”×¡× ×” ×”×‘×•×¢×¨</span>
    <span class="timer-display" id="timer-display">00:00</span>
  </div>

  <!-- Main Content -->
  <div class="room-container">

    <!-- Room Header -->
    <div class="room-header">
      <div class="room-icon">ğŸ”¥</div>
      <h1 class="room-title">×”×¡× ×” ×”×‘×•×¢×¨</h1>
      <p class="room-subtitle">"×•×”×¡× ×” ×‘×•×¢×¨ ×‘××© â€” ×•×”×¡× ×” ××™× × ×• ××•×›×œ"</p>
    </div>

    <!-- Question Box -->
    <div class="question-box">
      <div class="question-text">
        ××©×” ×¨××” ××¨××” × ×•×¨×. ×¡× ×” ×‘×•×¢×¨ ×©×œ× × ×©×¨×£. ×‘××™×–×” ×”×¨ ×¢××“?
      </div>
      <div class="question-helper">
        ğŸ”ï¸ ×—××™×©×” ×”×¨×™×. ×¨×§ ××—×“ ××”× â€” ×”×¨ ×”××œ×•×”×™×.
      </div>
    </div>

    <!-- Burning Bush Scene -->
    <div class="bush-scene">
      <canvas id="bush-canvas"></canvas>
      <div class="bush-label">ğŸ”¥ ×”×¡× ×” ×‘×•×¢×¨ ×‘××©... ×•×”×¡× ×” ××™× × ×• ××•×›×œ</div>
    </div>

    <!-- Mountain Grid -->
    <div class="mountain-grid">

      <!-- ×”×¨ ×ª×‘×•×¨ âŒ -->
      <div class="mountain-card" onclick="examineMountain(this, 'wrong', 'âŒ ×”×¨ ×ª×‘×•×¨ ×‘×¦×¤×•×Ÿ ×™×©×¨××œ. ×“×‘×•×¨×” ×”× ×‘×™××” ×¢×œ×ª×” ××œ×™×• â€” ××‘×œ ×”×¡× ×” ×œ× ×›××Ÿ.')">
        <div class="mountain-icon">ğŸ”ï¸</div>
        <div class="mountain-name">×”×¨ ×ª×‘×•×¨</div>
        <div class="mountain-result"></div>
      </div>

      <!-- ×”×¨ ×”×›×¨××œ âŒ -->
      <div class="mountain-card" onclick="examineMountain(this, 'wrong', 'âŒ ×”×¨ ×”×›×¨××œ â€” ×›××Ÿ ××œ×™×”×• × ×™×¦×— ××ª × ×‘×™××™ ×”×‘×¢×œ. ××‘×œ ×–×” ×§×¨×” ×××•×ª ×©× ×™× ××—×¨×™.')">
        <div class="mountain-icon">â›°ï¸</div>
        <div class="mountain-name">×”×¨ ×”×›×¨××œ</div>
        <div class="mountain-result"></div>
      </div>

      <!-- ×”×¨ ×—×•×¨×‘ âœ… -->
      <div class="mountain-card" onclick="examineMountain(this, 'correct', 'âœ¨ × ×›×•×Ÿ! ×”×¨ ×—×•×¨×‘ â€” ×”×¨ ×”××œ×•×”×™×!\n&quot;×•×™×‘× ××œ ×”×¨ ×”××œ×•×”×™× ×—×•×¨×‘×”&quot;\n×©× ×”×”×¨ â€” ×”×•× ×”×¡×™×¡××”.')">
        <div class="mountain-icon">ğŸ—»</div>
        <div class="mountain-name">×”×¨ ×—×•×¨×‘</div>
        <div class="mountain-result"></div>
      </div>

      <!-- ×”×¨ ×”××•×¨×™×” âŒ -->
      <div class="mountain-card" onclick="examineMountain(this, 'wrong', 'âŒ ×”×¨ ×”××•×¨×™×” â€” ×›××Ÿ ×¢×§×“ ××‘×¨×”× ××ª ×™×¦×—×§. ××‘×œ ××©×” ×˜×¨× × ×•×œ×“.')">
        <div class="mountain-icon">ğŸ›ï¸</div>
        <div class="mountain-name">×”×¨ ×”××•×¨×™×”</div>
        <div class="mountain-result"></div>
      </div>

      <!-- ×”×¨ ×’×¨×™×–×™× âŒ -->
      <div class="mountain-card" onclick="examineMountain(this, 'wrong', 'âŒ ×”×¨ ×’×¨×™×–×™× â€” ×”×¨ ×”×‘×¨×›×”. ××‘×œ ×”×¡× ×” ×”×‘×•×¢×¨? ×œ× ×›××Ÿ.')">
        <div class="mountain-icon">ğŸŒ„</div>
        <div class="mountain-name">×”×¨ ×’×¨×™×–×™×</div>
        <div class="mountain-result"></div>
      </div>

    </div>

    <!-- Sefaria Link -->
    <div class="sefaria-link-box">
      <a href="https://www.sefaria.org/Exodus.3?lang=he" target="_blank" class="sefaria-link">
        ğŸ“œ ×§×¨× ××ª ×©××•×ª ×’' ×‘×¡×¤×¨×™×
      </a>
    </div>

    <div class="password-section">
      <div class="password-wrapper">
        <input type="text" class="password-input" placeholder="×©× ×”×”×¨..." autocomplete="off">
        <button class="submit-btn">ğŸ”“ ×¤×ª×—</button>
      </div>
      <div class="attempts-display"></div>
      <div class="hint-box">ğŸ’¡ ××©×” ×¨×¢×” ×¦××Ÿ. ×”×•× ×”×’×™×¢ ×œ×”×¨ ×©× ×§×¨× ×’× '×”×¨ ×”××œ×•×”×™×'.</div>
      <div class="hint-box strong">ğŸ”¥ ×—×•×¨×‘. ×¡×™× ×™. ×©× ×™ ×©××•×ª ×œ×”×¨ ××—×“. ×”×§×œ×“ ××ª ×”×¨××©×•×Ÿ.</div>
    </div>
  </div>

  <div class="red-flash"></div>
  <div class="success-overlay">
    <div class="success-message">ğŸ”¥ ×”×¡× ×” × ×’×œ×”!</div>
    <p style="color: rgba(255,255,255,0.7); margin-bottom: 20px; font-size: 1.1rem;">×”' ×“×™×‘×¨. ×¢×›×©×™×• â€” ××¦×¨×™×.</p>
    <a href="room1.html" class="next-room-btn">â†’ ×”×™×›× ×¡ ×œ××¦×¨×™× ğŸ¸</a>
  </div>

  <!-- Scripts -->
  <script src="particles.js"></script>
  <script src="game.js"></script>

  <script>
    // â”€â”€â”€ Burning Bush Canvas Animation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const bushCanvas = document.getElementById('bush-canvas');
    const bushCtx = bushCanvas.getContext('2d');

    function initBush() {
      bushCanvas.width = bushCanvas.parentElement.clientWidth;
      bushCanvas.height = 200;

      const flames = [];
      for (let i = 0; i < 50; i++) {
        flames.push({
          x: bushCanvas.width / 2 + (Math.random() - 0.5) * 100,
          y: bushCanvas.height - 30 - Math.random() * 80,
          size: Math.random() * 8 + 3,
          speedY: -(Math.random() * 2 + 0.5),
          life: Math.random() * 60 + 20,
          maxLife: 80,
          hue: Math.random() * 40 + 15
        });
      }

      function drawBush() {
        bushCtx.fillStyle = 'rgba(0,0,0,0.1)';
        bushCtx.fillRect(0, 0, bushCanvas.width, bushCanvas.height);

        // Bush shape (dark green, always there â€” ×œ× × ×©×¨×£)
        bushCtx.fillStyle = 'rgba(20,80,20,0.3)';
        bushCtx.beginPath();
        bushCtx.ellipse(bushCanvas.width / 2, bushCanvas.height - 50, 70, 50, 0, 0, Math.PI * 2);
        bushCtx.fill();

        // Trunk
        bushCtx.fillStyle = 'rgba(80,50,20,0.5)';
        bushCtx.fillRect(bushCanvas.width / 2 - 5, bushCanvas.height - 30, 10, 30);

        // Flames
        flames.forEach((f, i) => {
          f.y += f.speedY;
          f.x += (Math.random() - 0.5) * 1.5;
          f.life--;
          f.size *= 0.99;

          const alpha = (f.life / f.maxLife) * 0.7;
          bushCtx.globalAlpha = alpha;
          const grad = bushCtx.createRadialGradient(f.x, f.y, 0, f.x, f.y, f.size);
          grad.addColorStop(0, `hsl(${f.hue}, 100%, 70%)`);
          grad.addColorStop(1, 'transparent');
          bushCtx.fillStyle = grad;
          bushCtx.beginPath();
          bushCtx.arc(f.x, f.y, f.size, 0, Math.PI * 2);
          bushCtx.fill();
          bushCtx.globalAlpha = 1;

          if (f.life <= 0) {
            flames[i] = {
              x: bushCanvas.width / 2 + (Math.random() - 0.5) * 100,
              y: bushCanvas.height - 30 - Math.random() * 30,
              size: Math.random() * 8 + 3,
              speedY: -(Math.random() * 2 + 0.5),
              life: Math.random() * 60 + 20,
              maxLife: 80,
              hue: Math.random() * 40 + 15
            };
          }
        });

        requestAnimationFrame(drawBush);
      }

      drawBush();
    }

    initBush();
    window.addEventListener('resize', initBush);

    // â”€â”€â”€ Mountain Examination â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function examineMountain(el, type, message) {
      if (el.classList.contains('examined')) return;
      el.classList.add('examined', type);
      el.querySelector('.mountain-result').innerHTML = message.replace(/\n/g, '<br>');

      if (type === 'correct') {
        setTimeout(() => {
          document.querySelector('.password-input').focus();
        }, 800);
      }
    }

    // â”€â”€â”€ Initialize Game Engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    new ParticleEngine('particles-canvas', 'burning');
    const timer = new GameTimer();
    const checker = new PasswordChecker('index', 'room1.html');
  </script>

</body>
</html>
