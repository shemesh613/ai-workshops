/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ° Digital Escape Room â€” Bible Quiz
   Shared Styles + Effects
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

@import url('https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Frank+Ruhl+Libre:wght@300;400;700;900&family=Secular+One&display=swap');

/* â”€â”€ Reset & Base â”€â”€ */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: 'Frank Ruhl Libre', 'David', serif;
  direction: rtl;
  color: #fff;
}

body {
  display: flex;
  justify-content: center;
  align-items: center;
  background: #0a0a0a;
}

/* â”€â”€ Video Background â”€â”€ */
.video-bg {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  z-index: -3;
  opacity: 0.6;
}

/* â”€â”€ Particle Canvas â”€â”€ */
#particles-canvas {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
  pointer-events: none;
}

/* â”€â”€ Fog Overlay â”€â”€ */
.fog-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -2;
  background: radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.7) 100%);
  animation: fogMove 8s ease-in-out infinite alternate;
}

@keyframes fogMove {
  0% { opacity: 0.4; transform: scale(1); }
  100% { opacity: 0.7; transform: scale(1.05); }
}

/* â”€â”€ Dark Overlay â”€â”€ */
.dark-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -2;
  background: rgba(0,0,0,0.45);
}

/* â”€â”€ Room Container â”€â”€ */
.room-container {
  position: relative;
  z-index: 1;
  text-align: center;
  max-width: 700px;
  width: 90%;
  padding: 40px 30px;
  background: rgba(0, 0, 0, 0.65);
  border-radius: 20px;
  border: 1px solid rgba(255, 215, 0, 0.3);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 0 60px rgba(0, 0, 0, 0.8), inset 0 0 60px rgba(0, 0, 0, 0.3);
  animation: containerAppear 1s ease-out;
  max-height: 90vh;
  overflow-y: auto;
}

@keyframes containerAppear {
  from { opacity: 0; transform: translateY(30px) scale(0.95); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

/* â”€â”€ Timer â”€â”€ */
.timer-bar {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 100;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 48px;
  background: rgba(0, 0, 0, 0.8);
  border-bottom: 2px solid rgba(255, 215, 0, 0.4);
  backdrop-filter: blur(5px);
  gap: 15px;
}

.timer-display {
  font-family: 'Secular One', sans-serif;
  font-size: 1.5rem;
  color: #ffd700;
  text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
  letter-spacing: 2px;
}

.timer-display.warning {
  color: #ff4444;
  animation: timerPulse 1s ease-in-out infinite;
  text-shadow: 0 0 15px rgba(255, 68, 68, 0.7);
}

@keyframes timerPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.room-indicator {
  font-size: 0.85rem;
  color: rgba(255, 215, 0, 0.6);
  font-family: 'Secular One', sans-serif;
}

/* â”€â”€ Room Title â”€â”€ */
.room-icon {
  font-size: 3.5rem;
  margin-bottom: 10px;
  animation: iconFloat 3s ease-in-out infinite;
  filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.5));
}

@keyframes iconFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.room-title {
  font-family: 'Amatic SC', cursive;
  font-size: 3rem;
  font-weight: 700;
  color: #ffd700;
  text-shadow: 0 0 30px rgba(255, 215, 0, 0.5), 0 0 60px rgba(255, 215, 0, 0.2);
  margin-bottom: 5px;
  animation: glowText 3s ease-in-out infinite alternate;
}

@keyframes glowText {
  from { text-shadow: 0 0 20px rgba(255, 215, 0, 0.4), 0 0 40px rgba(255, 215, 0, 0.2); }
  to { text-shadow: 0 0 40px rgba(255, 215, 0, 0.7), 0 0 80px rgba(255, 215, 0, 0.4); }
}

.room-subtitle {
  font-size: 1rem;
  color: rgba(255, 215, 0, 0.6);
  margin-bottom: 25px;
  font-style: italic;
}

/* â”€â”€ Question Area â”€â”€ */
.question-box {
  background: rgba(255, 215, 0, 0.08);
  border: 1px solid rgba(255, 215, 0, 0.25);
  border-radius: 15px;
  padding: 25px 20px;
  margin: 20px 0;
  position: relative;
}

.question-text {
  font-size: 1.35rem;
  line-height: 1.8;
  color: #fff;
  font-weight: 700;
}

.question-verse {
  font-size: 0.9rem;
  color: rgba(255, 215, 0, 0.5);
  margin-top: 10px;
  font-style: italic;
}

/* â”€â”€ Multi-question (room2) â”€â”€ */
.sub-questions {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin: 15px 0;
}

.sub-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  padding: 15px;
  transition: all 0.3s;
}

.sub-question.solved {
  border-color: rgba(0, 255, 100, 0.4);
  background: rgba(0, 255, 100, 0.08);
}

.sub-question .sq-label {
  font-size: 0.85rem;
  color: #ffd700;
  margin-bottom: 8px;
  font-weight: 700;
}

.sub-question .sq-text {
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.sub-answer {
  display: flex;
  gap: 8px;
  direction: rtl;
}

.sub-answer input {
  flex: 1;
  padding: 8px 12px;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  color: #fff;
  font-family: inherit;
  font-size: 1rem;
  text-align: center;
  outline: none;
  transition: border-color 0.3s;
}

.sub-answer input:focus {
  border-color: #ffd700;
}

.sub-answer input.correct {
  border-color: #00ff64;
  background: rgba(0, 255, 100, 0.15);
}

.sub-answer button {
  padding: 8px 16px;
  background: rgba(255, 215, 0, 0.2);
  border: 1px solid rgba(255, 215, 0, 0.4);
  border-radius: 8px;
  color: #ffd700;
  cursor: pointer;
  font-family: inherit;
  transition: all 0.3s;
}

.sub-answer button:hover {
  background: rgba(255, 215, 0, 0.35);
}

.formula-display {
  font-family: 'Secular One', sans-serif;
  font-size: 1.3rem;
  color: #ffd700;
  margin: 15px 0;
  padding: 12px;
  background: rgba(255, 215, 0, 0.1);
  border-radius: 10px;
  opacity: 0;
  transition: opacity 0.5s;
}

.formula-display.visible {
  opacity: 1;
}

/* â”€â”€ Cipher (room3) â”€â”€ */
.cipher-container {
  margin: 15px 0;
}

.cipher-grid {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin: 15px 0;
  flex-wrap: wrap;
}

.cipher-cell {
  width: 50px;
  height: 55px;
  background: rgba(0, 255, 0, 0.08);
  border: 1px solid rgba(0, 255, 0, 0.3);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: 'Secular One', sans-serif;
  transition: all 0.3s;
}

.cipher-cell .encoded {
  font-size: 1.3rem;
  color: #00ff88;
  text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
}

.cipher-cell .decoded {
  font-size: 0.7rem;
  color: rgba(255, 255, 255, 0.3);
  margin-top: 2px;
}

.cipher-hint {
  font-size: 0.85rem;
  color: rgba(0, 255, 136, 0.6);
  margin-top: 10px;
}

/* â”€â”€ Price table (room4) â”€â”€ */
.price-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0 8px;
  margin: 15px 0;
}

.price-table th {
  color: #ffd700;
  font-size: 0.85rem;
  padding: 8px;
  font-weight: 400;
}

.price-table td {
  background: rgba(255, 215, 0, 0.08);
  padding: 10px;
  font-size: 1rem;
  border: 1px solid rgba(255, 215, 0, 0.15);
}

.price-table tr td:first-child {
  border-radius: 0 8px 8px 0;
}

.price-table tr td:last-child {
  border-radius: 8px 0 0 8px;
}

.price-total {
  font-family: 'Secular One', sans-serif;
  font-size: 1.5rem;
  color: #ffd700;
  margin: 15px 0;
  text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
}

/* â”€â”€ Password Input â”€â”€ */
.password-section {
  margin-top: 20px;
}

.password-wrapper {
  display: flex;
  gap: 10px;
  justify-content: center;
  direction: rtl;
}

.password-input {
  padding: 14px 20px;
  font-size: 1.3rem;
  font-family: 'Secular One', sans-serif;
  text-align: center;
  background: rgba(255, 255, 255, 0.08);
  border: 2px solid rgba(255, 215, 0, 0.3);
  border-radius: 12px;
  color: #fff;
  outline: none;
  width: 200px;
  transition: all 0.3s;
  letter-spacing: 3px;
}

.password-input:focus {
  border-color: #ffd700;
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
}

.password-input.error {
  border-color: #ff4444;
  animation: inputShake 0.5s ease-in-out;
}

.password-input.success {
  border-color: #00ff64;
  box-shadow: 0 0 30px rgba(0, 255, 100, 0.4);
}

@keyframes inputShake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-10px); }
  40% { transform: translateX(10px); }
  60% { transform: translateX(-7px); }
  80% { transform: translateX(7px); }
}

.submit-btn {
  padding: 14px 30px;
  font-size: 1.1rem;
  font-family: 'Secular One', sans-serif;
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 170, 0, 0.3));
  border: 2px solid rgba(255, 215, 0, 0.5);
  border-radius: 12px;
  color: #ffd700;
  cursor: pointer;
  transition: all 0.3s;
  text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
}

.submit-btn:hover {
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.5), rgba(255, 170, 0, 0.5));
  transform: translateY(-2px);
  box-shadow: 0 5px 20px rgba(255, 215, 0, 0.3);
}

.submit-btn:active {
  transform: translateY(0);
}

/* â”€â”€ Attempts & Hints â”€â”€ */
.attempts-display {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.4);
  margin-top: 10px;
}

.hint-box {
  margin-top: 15px;
  padding: 12px 18px;
  background: rgba(255, 215, 0, 0.1);
  border: 1px solid rgba(255, 215, 0, 0.25);
  border-radius: 10px;
  color: rgba(255, 215, 0, 0.8);
  font-size: 0.95rem;
  display: none;
  animation: hintAppear 0.5s ease-out;
}

.hint-box.visible {
  display: block;
}

.hint-box.strong {
  border-color: rgba(255, 100, 0, 0.5);
  background: rgba(255, 100, 0, 0.15);
  color: rgba(255, 180, 100, 0.9);
}

@keyframes hintAppear {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* â”€â”€ External Link â”€â”€ */
.external-link {
  display: inline-block;
  margin-top: 15px;
  padding: 10px 20px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 10px;
  color: rgba(255, 215, 0, 0.7);
  text-decoration: none;
  font-size: 0.9rem;
  transition: all 0.3s;
}

.external-link:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #ffd700;
  transform: translateY(-2px);
}

/* â”€â”€ Success Overlay â”€â”€ */
.success-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.85);
  z-index: 200;
  display: none;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

.success-overlay.active {
  display: flex;
  animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.success-message {
  font-family: 'Amatic SC', cursive;
  font-size: 3.5rem;
  font-weight: 700;
  color: #00ff64;
  text-shadow: 0 0 40px rgba(0, 255, 100, 0.5);
  margin-bottom: 20px;
  animation: successPop 0.6s ease-out;
}

@keyframes successPop {
  0% { transform: scale(0); opacity: 0; }
  60% { transform: scale(1.2); }
  100% { transform: scale(1); opacity: 1; }
}

.next-room-btn {
  padding: 16px 40px;
  font-size: 1.2rem;
  font-family: 'Secular One', sans-serif;
  background: linear-gradient(135deg, rgba(0, 255, 100, 0.3), rgba(0, 200, 80, 0.3));
  border: 2px solid rgba(0, 255, 100, 0.5);
  border-radius: 12px;
  color: #00ff64;
  cursor: pointer;
  transition: all 0.3s;
  text-decoration: none;
  display: inline-block;
  animation: btnPulse 2s ease-in-out infinite;
}

@keyframes btnPulse {
  0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 100, 0.2); }
  50% { box-shadow: 0 0 40px rgba(0, 255, 100, 0.4); }
}

.next-room-btn:hover {
  background: linear-gradient(135deg, rgba(0, 255, 100, 0.5), rgba(0, 200, 80, 0.5));
  transform: translateY(-3px);
}

/* â”€â”€ Flash / Lightning â”€â”€ */
.flash-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(255, 255, 255, 0.9);
  z-index: 50;
  opacity: 0;
  pointer-events: none;
}

.flash-overlay.active {
  animation: lightningFlash 0.15s ease-out;
}

@keyframes lightningFlash {
  0% { opacity: 0.9; }
  100% { opacity: 0; }
}

/* â”€â”€ Screen Shake â”€â”€ */
.screen-shake {
  animation: screenShake 0.4s ease-in-out;
}

@keyframes screenShake {
  0%, 100% { transform: translate(0); }
  10% { transform: translate(-5px, -3px); }
  20% { transform: translate(5px, 3px); }
  30% { transform: translate(-3px, 5px); }
  40% { transform: translate(3px, -5px); }
  50% { transform: translate(-5px, 3px); }
  60% { transform: translate(5px, -3px); }
  70% { transform: translate(-3px, -5px); }
  80% { transform: translate(3px, 5px); }
  90% { transform: translate(-5px, -3px); }
}

/* â”€â”€ Red Flash (error) â”€â”€ */
.red-flash {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: 50;
  pointer-events: none;
  opacity: 0;
}

.red-flash.active {
  animation: redFlashAnim 0.4s ease-out;
}

@keyframes redFlashAnim {
  0% { opacity: 0.4; background: radial-gradient(ellipse at center, rgba(255,0,0,0.6), transparent); }
  100% { opacity: 0; }
}

/* â”€â”€ Glitch Text â”€â”€ */
.glitch {
  position: relative;
}

.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.glitch::before {
  color: #0ff;
  animation: glitch1 2s infinite linear alternate-reverse;
  clip-path: inset(0 0 80% 0);
}

.glitch::after {
  color: #f0f;
  animation: glitch2 3s infinite linear alternate-reverse;
  clip-path: inset(80% 0 0 0);
}

@keyframes glitch1 {
  0% { transform: translate(0); }
  20% { transform: translate(-3px, 3px); }
  40% { transform: translate(3px, -3px); }
  60% { transform: translate(-3px, -3px); }
  80% { transform: translate(3px, 3px); }
  100% { transform: translate(0); }
}

@keyframes glitch2 {
  0% { transform: translate(0); }
  25% { transform: translate(3px, 3px); }
  50% { transform: translate(-3px, -3px); }
  75% { transform: translate(3px, -3px); }
  100% { transform: translate(0); }
}

/* â”€â”€ Victory Specific â”€â”€ */
.victory-container {
  text-align: center;
}

.trophy {
  font-size: 5rem;
  animation: trophyBounce 2s ease-in-out infinite;
  filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.7));
}

@keyframes trophyBounce {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-15px) rotate(-5deg); }
  75% { transform: translateY(-15px) rotate(5deg); }
}

.victory-title {
  font-family: 'Amatic SC', cursive;
  font-size: 4rem;
  font-weight: 700;
  color: #ffd700;
  text-shadow: 0 0 50px rgba(255, 215, 0, 0.6);
  margin: 10px 0;
}

.victory-subtitle {
  font-size: 1.2rem;
  color: rgba(255, 215, 0, 0.7);
  margin-bottom: 20px;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
  margin: 25px 0;
}

.stat-card {
  background: rgba(255, 215, 0, 0.08);
  border: 1px solid rgba(255, 215, 0, 0.2);
  border-radius: 12px;
  padding: 18px 10px;
}

.stat-icon {
  font-size: 1.8rem;
  margin-bottom: 5px;
}

.stat-value {
  font-family: 'Secular One', sans-serif;
  font-size: 1.8rem;
  color: #ffd700;
}

.stat-label {
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.5);
  margin-top: 3px;
}

.share-section {
  margin-top: 25px;
}

.share-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 25px;
  margin: 5px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 10px;
  color: #fff;
  text-decoration: none;
  font-family: 'Secular One', sans-serif;
  font-size: 0.95rem;
  transition: all 0.3s;
  cursor: pointer;
  background: rgba(255, 255, 255, 0.05);
}

.share-btn:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

.share-btn.whatsapp {
  border-color: rgba(37, 211, 102, 0.4);
  color: #25d366;
}

.share-btn.copy-link {
  border-color: rgba(255, 215, 0, 0.4);
  color: #ffd700;
}

.restart-btn {
  display: inline-block;
  margin-top: 20px;
  padding: 12px 30px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 10px;
  color: rgba(255, 255, 255, 0.6);
  text-decoration: none;
  font-family: 'Secular One', sans-serif;
  font-size: 0.9rem;
  transition: all 0.3s;
}

.restart-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
}

/* â”€â”€ Failed Screen â”€â”€ */
.failed-container {
  text-align: center;
}

.failed-icon {
  font-size: 4rem;
  margin-bottom: 10px;
  animation: failedPulse 2s ease-in-out infinite;
}

@keyframes failedPulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

.failed-title {
  font-family: 'Amatic SC', cursive;
  font-size: 3rem;
  color: #ff4444;
  text-shadow: 0 0 30px rgba(255, 68, 68, 0.5);
}

/* â”€â”€ Room-specific color themes â”€â”€ */
/* Room 1: Fire */
.theme-fire .room-container {
  border-color: rgba(255, 80, 0, 0.3);
  box-shadow: 0 0 60px rgba(255, 50, 0, 0.3), inset 0 0 60px rgba(255, 50, 0, 0.1);
}

.theme-fire .room-title { color: #ff6a00; text-shadow: 0 0 30px rgba(255, 100, 0, 0.5); }
.theme-fire .password-input { border-color: rgba(255, 100, 0, 0.3); }
.theme-fire .password-input:focus { border-color: #ff6a00; box-shadow: 0 0 20px rgba(255, 100, 0, 0.3); }
.theme-fire .submit-btn { background: linear-gradient(135deg, rgba(255, 100, 0, 0.3), rgba(255, 50, 0, 0.3)); border-color: rgba(255, 100, 0, 0.5); color: #ff8c00; }
.theme-fire .question-box { border-color: rgba(255, 100, 0, 0.2); background: rgba(255, 80, 0, 0.08); }

/* Room 2: Battle */
.theme-battle .room-container {
  border-color: rgba(150, 150, 200, 0.3);
}

.theme-battle .room-title { color: #aab; }
.theme-battle .question-box { border-color: rgba(150, 150, 200, 0.2); }

/* Room 3: Night/Matrix */
.theme-matrix .room-container {
  border-color: rgba(0, 255, 100, 0.2);
  box-shadow: 0 0 60px rgba(0, 255, 100, 0.1), inset 0 0 60px rgba(0, 0, 0, 0.3);
}

.theme-matrix .room-title { color: #00ff88; text-shadow: 0 0 30px rgba(0, 255, 136, 0.5); }
.theme-matrix .password-input { border-color: rgba(0, 255, 100, 0.3); }
.theme-matrix .password-input:focus { border-color: #00ff88; box-shadow: 0 0 20px rgba(0, 255, 100, 0.2); }
.theme-matrix .submit-btn { background: linear-gradient(135deg, rgba(0, 255, 100, 0.2), rgba(0, 200, 80, 0.2)); border-color: rgba(0, 255, 100, 0.4); color: #00ff88; }
.theme-matrix .question-box { border-color: rgba(0, 255, 100, 0.15); background: rgba(0, 255, 100, 0.05); }

/* Room 4: Gold */
.theme-gold .room-container {
  border-color: rgba(255, 215, 0, 0.35);
  box-shadow: 0 0 80px rgba(255, 215, 0, 0.15), inset 0 0 60px rgba(255, 215, 0, 0.05);
}

.theme-gold .question-box { background: rgba(255, 215, 0, 0.06); }

/* â”€â”€ Confetti Canvas â”€â”€ */
#confetti-canvas {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: 0;
  pointer-events: none;
}

/* â”€â”€ Responsive â”€â”€ */
@media (max-width: 600px) {
  .room-container {
    padding: 25px 18px;
    border-radius: 15px;
    width: 95%;
  }

  .room-title { font-size: 2.2rem; }
  .room-icon { font-size: 2.5rem; }
  .question-text { font-size: 1.15rem; }
  .password-input { width: 150px; font-size: 1.1rem; padding: 12px 15px; }
  .submit-btn { padding: 12px 20px; font-size: 1rem; }
  .timer-display { font-size: 1.2rem; }
  .stats-grid { grid-template-columns: repeat(3, 1fr); gap: 8px; }
  .stat-value { font-size: 1.3rem; }
  .victory-title { font-size: 2.8rem; }
  .success-message { font-size: 2.5rem; }
  .cipher-cell { width: 40px; height: 45px; }
  .cipher-cell .encoded { font-size: 1.1rem; }

  .password-wrapper {
    flex-direction: column;
    align-items: center;
  }

  .password-input { width: 80%; }
}

/* â”€â”€ Scrollbar â”€â”€ */
.room-container::-webkit-scrollbar {
  width: 5px;
}
.room-container::-webkit-scrollbar-thumb {
  background: rgba(255, 215, 0, 0.3);
  border-radius: 10px;
}
.room-container::-webkit-scrollbar-track {
  background: transparent;
}

/* â”€â”€ Crown spin (room4) â”€â”€ */
.crown-spin {
  display: inline-block;
  animation: crownRotate 6s linear infinite;
}

@keyframes crownRotate {
  from { transform: rotateY(0deg); }
  to { transform: rotateY(360deg); }
}

/* â”€â”€ Pulsing red glow for fire room â”€â”€ */
.fire-glow {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -2;
  background: radial-gradient(ellipse at bottom, rgba(255, 50, 0, 0.15), transparent 70%);
  animation: fireGlow 3s ease-in-out infinite alternate;
  pointer-events: none;
}

@keyframes fireGlow {
  from { opacity: 0.3; }
  to { opacity: 0.7; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ—ºï¸ Battle Map (Room 1)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.battle-map {
  position: relative;
  width: 100%;
  height: 380px;
  background: linear-gradient(135deg, #1a2a1a 0%, #2a3a2a 40%, #1e2e1e 70%, #253525 100%);
  border-radius: 14px;
  border: 2px solid rgba(255, 215, 0, 0.15);
  overflow: hidden;
  margin: 15px 0;
  cursor: crosshair;
}

.battle-map::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(0deg, transparent, transparent 39px, rgba(255,215,0,0.03) 40px),
    repeating-linear-gradient(90deg, transparent, transparent 39px, rgba(255,215,0,0.03) 40px);
  pointer-events: none;
}

.map-title {
  position: absolute;
  top: 10px;
  right: 12px;
  font-family: 'Amatic SC', cursive;
  font-size: 1.3rem;
  color: rgba(255, 215, 0, 0.4);
  pointer-events: none;
}

.map-compass {
  position: absolute;
  bottom: 10px;
  left: 12px;
  font-size: 1.5rem;
  opacity: 0.3;
  pointer-events: none;
}

/* River line */
.map-river {
  position: absolute;
  width: 75%;
  height: 3px;
  background: linear-gradient(90deg, transparent, rgba(70,130,255,0.4), rgba(70,130,255,0.6), rgba(70,130,255,0.3), transparent);
  transform: rotate(-8deg);
  pointer-events: none;
}

/* Mountain indicator */
.map-mountain {
  position: absolute;
  font-size: 1.2rem;
  opacity: 0.2;
  pointer-events: none;
}

.map-pin {
  position: absolute;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
  z-index: 5;
  transform: translate(-50%, -50%);
}

.map-pin:hover {
  transform: translate(-50%, -50%) scale(1.25);
  z-index: 10;
}

.pin-dot {
  width: 14px;
  height: 14px;
  background: radial-gradient(circle, #ffd700, #b8860b);
  border-radius: 50%;
  margin: 0 auto;
  box-shadow: 0 0 8px rgba(255, 215, 0, 0.4);
  transition: all 0.3s;
}

.map-pin:hover .pin-dot {
  box-shadow: 0 0 18px rgba(255, 215, 0, 0.7);
  width: 18px;
  height: 18px;
}

.pin-label {
  font-size: 0.7rem;
  color: rgba(255, 255, 255, 0.55);
  margin-top: 3px;
  white-space: nowrap;
  font-family: 'Secular One', sans-serif;
  text-shadow: 0 1px 3px rgba(0,0,0,0.8);
}

.map-popup {
  position: absolute;
  background: rgba(0, 0, 0, 0.92);
  border: 1px solid rgba(255, 215, 0, 0.3);
  border-radius: 12px;
  padding: 14px 16px;
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.85rem;
  max-width: 220px;
  z-index: 20;
  display: none;
  text-align: center;
  backdrop-filter: blur(5px);
  line-height: 1.5;
}

.map-popup.visible {
  display: block;
  animation: fadeIn 0.3s ease-out;
}

.map-popup.wrong {
  border-color: rgba(255, 80, 80, 0.4);
}

.map-popup.near {
  border-color: rgba(255, 200, 0, 0.5);
}

.map-popup.correct {
  border-color: rgba(0, 255, 100, 0.6);
  background: rgba(0, 30, 0, 0.95);
  box-shadow: 0 0 30px rgba(0, 255, 100, 0.2);
}

.map-popup .popup-close {
  position: absolute;
  top: 5px;
  left: 8px;
  cursor: pointer;
  color: rgba(255,255,255,0.4);
  font-size: 0.8rem;
}

.found-number {
  font-family: 'Secular One', sans-serif;
  font-size: 3rem;
  color: #ffd700;
  text-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
  margin: 8px 0;
  letter-spacing: 5px;
  animation: numberReveal 0.8s ease-out;
}

@keyframes numberReveal {
  0% { opacity: 0; transform: scale(0.5); filter: blur(10px); }
  60% { transform: scale(1.2); }
  100% { opacity: 1; transform: scale(1); filter: blur(0); }
}

.found-label {
  font-size: 0.75rem;
  color: rgba(0, 255, 100, 0.6);
  margin-top: 5px;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸŒ¿ Garden of Eden (Entrance)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.garden-scene {
  position: relative;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  margin: 15px 0;
}

.garden-plant {
  background: rgba(34, 70, 34, 0.2);
  border: 1px solid rgba(34, 100, 34, 0.3);
  border-radius: 12px;
  padding: 18px 12px;
  cursor: pointer;
  transition: all 0.4s;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.garden-plant:hover {
  background: rgba(34, 100, 34, 0.3);
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(0, 80, 0, 0.3);
}

.garden-plant .plant-icon {
  font-size: 2.2rem;
  margin-bottom: 6px;
}

.garden-plant .plant-name {
  font-family: 'Secular One', sans-serif;
  font-size: 1rem;
  color: rgba(255, 255, 255, 0.8);
}

.garden-plant .plant-result {
  display: none;
  margin-top: 10px;
  font-size: 0.85rem;
  line-height: 1.5;
  animation: fadeIn 0.4s ease-out;
}

.garden-plant.examined .plant-result {
  display: block;
}

.garden-plant.wrong {
  border-color: rgba(100, 50, 50, 0.4);
  opacity: 0.6;
}

.garden-plant.correct {
  border-color: rgba(0, 255, 100, 0.4);
  background: rgba(0, 100, 0, 0.2);
  box-shadow: 0 0 25px rgba(0, 255, 100, 0.15);
}

.garden-plant.correct .plant-name {
  color: #00ff64;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ“œ Prophecy Vision (Room 3)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.prophecy-screen {
  position: relative;
  width: 100%;
  height: 200px;
  background: #000;
  border-radius: 12px;
  border: 1px solid rgba(0, 255, 100, 0.2);
  overflow: hidden;
  margin: 15px 0;
}

.prophecy-screen canvas {
  width: 100%;
  height: 100%;
}

.prophecy-label {
  position: absolute;
  bottom: 8px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 0.7rem;
  color: rgba(0, 255, 100, 0.3);
  pointer-events: none;
  font-family: 'Secular One', sans-serif;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸª Marketplace Scene (Room 4)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.market-stalls {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin: 15px 0;
}

.market-stall {
  background: rgba(139, 90, 43, 0.1);
  border: 1px solid rgba(139, 90, 43, 0.25);
  border-radius: 10px;
  padding: 14px 8px;
  cursor: pointer;
  transition: all 0.3s;
  text-align: center;
  min-height: 90px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.market-stall:hover {
  background: rgba(139, 90, 43, 0.25);
  transform: translateY(-3px);
}

.market-stall .stall-icon {
  font-size: 1.6rem;
  margin-bottom: 5px;
}

.market-stall .stall-name {
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.6);
}

.market-stall .stall-result {
  display: none;
  margin-top: 8px;
  font-size: 0.85rem;
  animation: fadeIn 0.3s;
}

.market-stall.searched .stall-result {
  display: block;
}

.market-stall.has-price .stall-result {
  color: #ffd700;
  font-family: 'Secular One', sans-serif;
  font-size: 1.1rem;
}

.market-stall.empty .stall-result {
  color: rgba(255, 255, 255, 0.3);
  font-style: italic;
}

.market-stall.has-price {
  border-color: rgba(255, 215, 0, 0.3);
}

@media (max-width: 600px) {
  .battle-map { height: 320px; }
  .pin-label { font-size: 0.6rem; }
  .garden-scene { grid-template-columns: repeat(2, 1fr); }
  .market-stalls { grid-template-columns: repeat(2, 1fr); }
  .found-number { font-size: 2.2rem; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ´ Interactive Elements
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* â”€â”€ Ancient Scrolls (Entrance) â”€â”€ */
.scrolls-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin: 20px 0;
}

.ancient-scroll {
  background: rgba(139, 90, 43, 0.15);
  border: 1px solid rgba(139, 90, 43, 0.3);
  border-radius: 12px;
  padding: 18px 12px;
  cursor: pointer;
  transition: all 0.4s;
  text-align: center;
}

.ancient-scroll:hover {
  background: rgba(139, 90, 43, 0.3);
  transform: translateY(-4px);
  box-shadow: 0 8px 25px rgba(139, 90, 43, 0.3);
}

.ancient-scroll.active {
  border-color: #ffd700;
  background: rgba(255, 215, 0, 0.1);
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
}

.ancient-scroll .scroll-icon {
  font-size: 2rem;
  margin-bottom: 8px;
}

.ancient-scroll .scroll-name {
  font-family: 'Secular One', sans-serif;
  font-size: 0.95rem;
  color: #daa520;
}

.scroll-content {
  display: none;
  margin-top: 15px;
  padding: 15px;
  background: rgba(255, 215, 0, 0.06);
  border: 1px solid rgba(255, 215, 0, 0.15);
  border-radius: 10px;
  animation: scrollReveal 0.6s ease-out;
}

.scroll-content.visible {
  display: block;
}

@keyframes scrollReveal {
  from { opacity: 0; max-height: 0; }
  to { opacity: 1; max-height: 300px; }
}

.sefaria-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  margin-top: 10px;
  padding: 10px 18px;
  background: linear-gradient(135deg, rgba(0, 100, 200, 0.2), rgba(0, 80, 160, 0.2));
  border: 1px solid rgba(0, 150, 255, 0.3);
  border-radius: 10px;
  color: #4db8ff;
  text-decoration: none;
  font-size: 0.9rem;
  transition: all 0.3s;
}

.sefaria-link:hover {
  background: linear-gradient(135deg, rgba(0, 100, 200, 0.35), rgba(0, 80, 160, 0.35));
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 100, 200, 0.2);
}

/* â”€â”€ Map Embed â”€â”€ */
.map-container {
  margin: 15px 0;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid rgba(255, 215, 0, 0.2);
  position: relative;
}

.map-container iframe {
  width: 100%;
  height: 200px;
  border: 0;
}

.map-caption {
  font-size: 0.8rem;
  color: rgba(255, 215, 0, 0.5);
  padding: 8px;
  background: rgba(0, 0, 0, 0.5);
  text-align: center;
}

/* â”€â”€ Unrolling Scroll â”€â”€ */
.scroll-roll {
  background: linear-gradient(135deg, rgba(139, 90, 43, 0.2), rgba(100, 60, 20, 0.2));
  border: 1px solid rgba(139, 90, 43, 0.4);
  border-radius: 12px;
  padding: 15px;
  margin: 15px 0;
  cursor: pointer;
  transition: all 0.5s;
  overflow: hidden;
  position: relative;
}

.scroll-roll::before {
  content: 'ğŸ“œ ×œ×—×¥ ×œ×¤×ª×™×—×ª ×”××’×™×œ×”';
  display: block;
  text-align: center;
  color: #daa520;
  font-family: 'Secular One', sans-serif;
  font-size: 0.95rem;
  padding: 5px;
  transition: all 0.3s;
}

.scroll-roll.open::before {
  content: 'ğŸ“œ ×”××’×™×œ×” × ×¤×ª×—×”';
  color: rgba(218, 165, 32, 0.6);
  font-size: 0.8rem;
}

.scroll-roll:hover { border-color: rgba(218, 165, 32, 0.6); }

.scroll-roll-content {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: all 0.8s ease;
  text-align: center;
  padding: 0 10px;
}

.scroll-roll.open .scroll-roll-content {
  max-height: 200px;
  opacity: 1;
  padding: 15px 10px 5px;
}

.scroll-roll-content .verse-ref {
  font-family: 'Secular One', sans-serif;
  font-size: 1.2rem;
  color: #ffd700;
  margin-bottom: 8px;
}

/* â”€â”€ Flip Cards (Marketplace) â”€â”€ */
.marketplace-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin: 15px 0;
}

.flip-card {
  perspective: 800px;
  height: 130px;
  cursor: pointer;
}

.flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
  transform-style: preserve-3d;
}

.flip-card.flipped .flip-card-inner {
  transform: rotateY(180deg);
}

.flip-card-front, .flip-card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 10px;
}

.flip-card-front {
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(200, 170, 0, 0.1));
  border: 2px solid rgba(255, 215, 0, 0.25);
}

.flip-card-front .card-item-name {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.8);
  margin-bottom: 8px;
}

.flip-card-front .card-mystery {
  font-size: 1.5rem;
  color: rgba(255, 215, 0, 0.4);
}

.flip-card-back {
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(200, 170, 0, 0.15));
  border: 2px solid rgba(255, 215, 0, 0.5);
  transform: rotateY(180deg);
}

.flip-card-back .card-price {
  font-family: 'Secular One', sans-serif;
  font-size: 1.8rem;
  color: #ffd700;
  text-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
}

.flip-card-back .card-source {
  font-size: 0.7rem;
  color: rgba(255, 215, 0, 0.5);
  margin-top: 5px;
}

.flip-card-back .card-item-label {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.6);
  margin-bottom: 5px;
}

/* â”€â”€ Atbash Table â”€â”€ */
.atbash-table-container {
  margin: 15px 0;
  overflow-x: auto;
}

.atbash-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 3px;
  font-family: 'Secular One', sans-serif;
}

.atbash-table td {
  text-align: center;
  padding: 6px 4px;
  border-radius: 5px;
  font-size: 0.95rem;
  transition: all 0.3s;
}

.atbash-table tr:first-child td {
  background: rgba(0, 255, 100, 0.1);
  color: #00ff88;
  border: 1px solid rgba(0, 255, 100, 0.2);
}

.atbash-table tr:last-child td {
  background: rgba(255, 100, 255, 0.1);
  color: #ff88ff;
  border: 1px solid rgba(255, 100, 255, 0.2);
}

.atbash-table td:hover {
  transform: scale(1.15);
  z-index: 2;
  box-shadow: 0 0 10px rgba(0, 255, 100, 0.3);
}

.atbash-table .label-cell {
  background: transparent !important;
  border: none !important;
  color: rgba(255, 255, 255, 0.4) !important;
  font-size: 0.7rem;
}

/* â”€â”€ Stone Tablets â”€â”€ */
.tablets-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin: 15px 0;
}

.stone-tablet {
  background: linear-gradient(135deg, rgba(100, 100, 120, 0.2), rgba(80, 80, 100, 0.2));
  border: 2px solid rgba(150, 150, 180, 0.3);
  border-radius: 12px 12px 5px 5px;
  padding: 15px;
  cursor: pointer;
  transition: all 0.4s;
  text-align: center;
  min-height: 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.stone-tablet:hover {
  border-color: rgba(200, 200, 230, 0.5);
  background: linear-gradient(135deg, rgba(120, 120, 150, 0.25), rgba(100, 100, 130, 0.25));
  transform: translateY(-3px);
}

.stone-tablet.revealed {
  border-color: rgba(255, 215, 0, 0.4);
}

.stone-tablet .tablet-icon {
  font-size: 1.8rem;
  margin-bottom: 5px;
}

.stone-tablet .tablet-text {
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.5);
}

.stone-tablet .tablet-question {
  display: none;
  font-size: 1rem;
  color: #fff;
  line-height: 1.6;
}

.stone-tablet.revealed .tablet-text { display: none; }
.stone-tablet.revealed .tablet-question { display: block; }

/* â”€â”€ Locked Panel â”€â”€ */
.locked-panel {
  background: rgba(255, 255, 255, 0.03);
  border: 1px dashed rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  padding: 20px;
  margin: 15px 0;
  text-align: center;
  transition: all 0.5s;
}

.locked-panel .lock-icon {
  font-size: 2rem;
  margin-bottom: 8px;
  opacity: 0.5;
}

.locked-panel .lock-text {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.4);
}

.locked-panel.unlocked {
  border-style: solid;
  border-color: rgba(0, 255, 100, 0.3);
  background: rgba(0, 255, 100, 0.05);
}

.locked-panel.unlocked .lock-icon { display: none; }

.locked-panel .unlocked-content {
  display: none;
}

.locked-panel.unlocked .unlocked-content {
  display: block;
  animation: scrollReveal 0.6s ease-out;
}

.locked-panel.unlocked .lock-text { display: none; }

/* â”€â”€ Cards revealed counter â”€â”€ */
.reveal-counter {
  text-align: center;
  margin: 10px 0;
  font-size: 0.85rem;
  color: rgba(255, 215, 0, 0.5);
}

.reveal-counter .count {
  font-family: 'Secular One', sans-serif;
  color: #ffd700;
  font-size: 1.1rem;
}

/* â”€â”€ Responsive additions â”€â”€ */
@media (max-width: 600px) {
  .scrolls-grid { grid-template-columns: repeat(3, 1fr); gap: 8px; }
  .ancient-scroll { padding: 12px 8px; }
  .ancient-scroll .scroll-icon { font-size: 1.5rem; }
  .ancient-scroll .scroll-name { font-size: 0.8rem; }
  .marketplace-grid { grid-template-columns: repeat(2, 1fr); gap: 8px; }
  .flip-card { height: 110px; }
  .flip-card-back .card-price { font-size: 1.4rem; }
  .tablets-grid { grid-template-columns: 1fr; }
  .atbash-table td { font-size: 0.75rem; padding: 4px 2px; }
}
